<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:fragment="layout(content)">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Nexus Blog</title>
	<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
	<style>
		.menu-slide {
			opacity: 0;
			transform: translateY(-20px);
			transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
		}
		.menu-slide-active {
			opacity: 1;
			transform: translateY(0);
		}
		.button-hover {
			transition: all 0.3s ease-in-out;
		}
		.button-hover:hover {
			transform: translateY(-2px);
			box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
		}
		#navbar-menu {
			transition: max-height 0.5s ease-in-out;
		}

		.block {
			max-height: 300px;
		}
	</style>
</head>
<body class="bg-gray-50">

<nav class="bg-blue-700 p-3 shadow-lg">
	<div class="container mx-auto flex justify-between items-center">
		<a class="text-white text-2xl font-bold tracking-wide hover:text-green-300 transition duration-300" href="/">
			Nexus Blogging
		</a>

		<div class="md:hidden">
			<button id="navbar-toggle" aria-label="Toggle Navigation" class="text-white focus:outline-none transition duration-300 transform hover:scale-110">
				<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
					<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
				</svg>
			</button>
		</div>

		<div class="hidden md:flex md:items-center md:space-x-4">
			<th:block th:if="${user == null}">
				<a class="text-white text-lg px-3 py-1 button-hover hover:text-gray-300 hover:bg-blue-600 transition duration-300 rounded-lg" href="register">Register</a>
				<a class="text-white text-lg px-3 py-1 button-hover hover:text-gray-300 hover:bg-blue-600 transition duration-300 rounded-lg" href="signin">Login</a>
			</th:block>

			<th:block th:if="${user != null}">
				<div class="flex items-center space-x-3">
					<a href="/user/profile" class="flex items-center text-white text-lg rounded-lg button-hover hover:text-gray-300 hover:bg-blue-600 transition duration-300">
						<img class="h-9 w-9" src="https://img.icons8.com/?size=100&id=Hj21JM30swCm&format=png&color=000000" alt="Profile Icon">
					</a>
					<a href="/editProfile" class="px-4 py-1 text-white text-lg rounded-lg button-hover hover:text-gray-300 hover:bg-blue-600 transition duration-300">Edit Profile</a>
					<a href="/user/change-password" class="px-4 py-1 text-white text-lg rounded-lg button-hover hover:text-gray-300 hover:bg-blue-600 transition duration-300">Change Password</a>
					<a href="/logout" class="px-4 py-1 bg-red-500 text-white text-lg rounded-lg button-hover hover:bg-red-600 transition duration-300">Logout</a>
				</div>
			</th:block>
		</div>


	</div>

	<div id="navbar-menu" class="md:hidden hidden mt-4">
		<ul class="bg-blue-500 rounded-lg shadow-lg p-4 space-y-4">
			<th:block th:if="${user == null}">
				<li class="menu-slide">
					<a class="text-white text-lg font-medium hover:text-green-300 transition duration-300 block text-center py-2 button-hover" href="register">
						Register
					</a>
				</li>
				<li class="menu-slide">
					<a class="text-white text-lg font-medium hover:text-green-300 transition duration-300 block text-center py-2 button-hover" href="signin">
						Login
					</a>
				</li>
			</th:block>

			<th:block th:if="${user != null}">
				<li class="menu-slide">
					<a href="/editProfile" class="px-4 py-1 text-white text-lg rounded-lg button-hover hover:text-gray-300 hover:bg-blue-600 transition duration-300">Edit Profile</a>
					<a href="/user/change-password" class="px-4 py-1 text-white text-lg rounded-lg button-hover hover:text-gray-300 hover:bg-blue-600 transition duration-300">Change Password</a>
					<a href="/logout" class="px-4 py-2 bg-red-500 text-white text-lg rounded-lg hover:bg-red-600 transition duration-300 block text-center button-hover">
						Logout
					</a>
				</li>
			</th:block>
		</ul>
	</div>
</nav>

<div th:replace="${content}"></div>

<script>

	const toggleButton = document.getElementById('navbar-toggle');
	const navbarMenu = document.getElementById('navbar-menu');
	const menuItems = document.querySelectorAll('.menu-slide');

	toggleButton.addEventListener('click', () => {
		navbarMenu.classList.toggle('hidden');
		navbarMenu.classList.toggle('block');
		menuItems.forEach((item, index) => {
			setTimeout(() => {
				item.classList.toggle('menu-slide-active');
			}, index * 100);
		});
	});

</script>

</body>
</html>
